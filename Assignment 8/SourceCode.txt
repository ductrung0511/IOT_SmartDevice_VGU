The connection made with azure iot is made in this lesson with azure-sdk-for-C from esp32, sending information of moisture through the iot-hub "soil-sensor-Deuna". 
After successfully establishing a secure connection with Azure IoT Hub using the Azure SDK for C, the ESP32 sends real-time soil moisture data to the cloud. Here's how the data flow works:

1. Sensor Data Acquisition
The ESP32 is connected to a soil moisture sensor (e.g., capacitive or resistive type). The microcontroller reads the analog moisture value through one of its ADC (Analog-to-Digital Converter) pins.
Using the Azure SDK for C (azure-iot-sdk-c), the ESP32 creates a JSON-formatted message to send to the cloud.

Once the message is prepared, the ESP32 uses the IoTHubDeviceClient_LL_SendEventAsync() function to send the telemetry data to the Azure IoT Hub.
The message is sent over MQTT.

Communication between the ESP32 and Azure is encrypted using TLS (Transport Layer Security). This ensures that data is not exposed during transmission. The device is authenticated using a Shared Access Signature (SAS) token, generated by the device SDK or manually encoded.

After the data is received by the IoT Hub:
It is stored temporarily in the IoT Hubâ€™s message buffer.
